<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="934px" preserveAspectRatio="none" style="width:1609px;height:934px;background:#FFFFFF;" version="1.1" viewBox="0 0 1609 934" width="1609px" zoomAndPan="magnify"><defs><filter height="300%" id="fk1wyxwvyc9jc" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="382" x="606" y="16.708">Address Model on Loan Application Domain</text><!--MD5=[323e39048fe92fef9c5e760d99a3f4fc]
class LoanApplication--><rect codeLine="3" fill="#FEFECE" filter="url(#fk1wyxwvyc9jc)" height="194.7891" id="LoanApplication" style="stroke:#A80036;stroke-width:1.5;" width="390" x="655.5" y="279.9531"/><ellipse cx="709.25" cy="298.9219" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M712.2188,304.5625 Q711.6406,304.8594 711,305 Q710.3594,305.1563 709.6563,305.1563 Q707.1563,305.1563 705.8281,303.5156 Q704.5156,301.8594 704.5156,298.7344 Q704.5156,295.6094 705.8281,293.9531 Q707.1563,292.2969 709.6563,292.2969 Q710.3594,292.2969 711,292.4531 Q711.6563,292.6094 712.2188,292.9063 L712.2188,295.625 Q711.5938,295.0469 711,294.7813 Q710.4063,294.5 709.7813,294.5 Q708.4375,294.5 707.75,295.5781 Q707.0625,296.6406 707.0625,298.7344 Q707.0625,300.8281 707.75,301.9063 Q708.4375,302.9688 709.7813,302.9688 Q710.4063,302.9688 711,302.7031 Q711.5938,302.4219 712.2188,301.8438 L712.2188,304.5625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="7" x="727.75" y="296.0918">«</text><text fill="#FF0000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="271" x="734.75" y="296.0918">partial fields only, for illustration purposes»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="99" x="817.25" y="310.0605">LoanApplication</text><line style="stroke:#A80036;stroke-width:1.5;" x1="656.5" x2="1044.5" y1="317.8906" y2="317.8906"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="103" x="661.5" y="332.1011">FirstName : string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="661.5" y="344.9058">LastName : string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="661.5" y="357.7104">DateOfBirth : Date</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="661.5" y="370.5151">EmailAddress : string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="133" x="661.5" y="383.3198">ContactNumber : string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="378" x="661.5" y="396.1245">PreferredCommunicationMethod : PreferredCommunicationMethod</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="131" x="661.5" y="408.9292">BusinessName : string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="661.5" y="421.7339">BusinessAddress : Address</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="275" x="661.5" y="434.5386">IsPostalAddressSameAsBusinessAddress : bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="661.5" y="447.3433">PostalAddress : Address</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="661.5" y="460.1479">IndustryType : string</text><line style="stroke:#A80036;stroke-width:1.5;" x1="656.5" x2="1044.5" y1="466.7422" y2="466.7422"/><!--MD5=[0f39e4cb6f03951afbf6d14bd2505654]
class Address--><rect codeLine="18" fill="#FEFECE" filter="url(#fk1wyxwvyc9jc)" height="86.4141" id="Address" style="stroke:#A80036;stroke-width:1.5;" width="142" x="400.5" y="700.4531"/><ellipse cx="442.05" cy="716.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M445.0188,722.0938 Q444.4406,722.3906 443.8,722.5313 Q443.1594,722.6875 442.4563,722.6875 Q439.9563,722.6875 438.6281,721.0469 Q437.3156,719.3906 437.3156,716.2656 Q437.3156,713.1406 438.6281,711.4844 Q439.9563,709.8281 442.4563,709.8281 Q443.1594,709.8281 443.8,709.9844 Q444.4563,710.1406 445.0188,710.4375 L445.0188,713.1563 Q444.3938,712.5781 443.8,712.3125 Q443.2063,712.0313 442.5813,712.0313 Q441.2375,712.0313 440.55,713.1094 Q439.8625,714.1719 439.8625,716.2656 Q439.8625,718.3594 440.55,719.4375 Q441.2375,720.5 442.5813,720.5 Q443.2063,720.5 443.8,720.2344 Q444.3938,719.9531 445.0188,719.375 L445.0188,722.0938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51" x="461.95" y="720.6074">Address</text><line style="stroke:#A80036;stroke-width:1.5;" x1="401.5" x2="541.5" y1="732.4531" y2="732.4531"/><ellipse cx="411.5" cy="743.4531" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="420.5" y="746.6636">externalId : string</text><ellipse cx="411.5" cy="756.2578" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="107" x="420.5" y="759.4683">externalUrn: string</text><ellipse cx="411.5" cy="769.0625" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="420.5" y="772.2729">addressBody: string</text><line style="stroke:#A80036;stroke-width:1.5;" x1="401.5" x2="541.5" y1="778.8672" y2="778.8672"/><!--MD5=[9967efcdce4bde3cdf9a43095df57a30]
class PreferredCommunicationMethod--><rect codeLine="25" fill="#FEFECE" filter="url(#fk1wyxwvyc9jc)" height="73.6094" id="PreferredCommunicationMethod" style="stroke:#A80036;stroke-width:1.5;" width="234" x="876.5" y="706.4531"/><ellipse cx="891.5" cy="722.4531" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M895.6094,728.4531 L887.8906,728.4531 L887.8906,716.0625 L895.6094,716.0625 L895.6094,718.2188 L890.3438,718.2188 L890.3438,720.8906 L895.1094,720.8906 L895.1094,723.0469 L890.3438,723.0469 L890.3438,726.2969 L895.6094,726.2969 L895.6094,728.4531 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="202" x="905.5" y="726.6074">PreferredCommunicationMethod</text><line style="stroke:#A80036;stroke-width:1.5;" x1="877.5" x2="1109.5" y1="738.4531" y2="738.4531"/><ellipse cx="887.5" cy="749.4531" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="35" x="896.5" y="752.6636">email,</text><ellipse cx="887.5" cy="762.2578" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="896.5" y="765.4683">mobileSms</text><line style="stroke:#A80036;stroke-width:1.5;" x1="877.5" x2="1109.5" y1="772.0625" y2="772.0625"/><path d="M531.5,64.9531 L531.5,180.8828 A0,0 0 0 0 531.5,180.8828 L846.5,180.8828 L850.5,279.7086 L854.5,180.8828 L1169.5,180.8828 A0,0 0 0 0 1169.5,180.8828 L1169.5,74.9531 L1159.5,64.9531 L531.5,64.9531 A0,0 0 0 0 531.5,64.9531 " fill="#FBFB77" filter="url(#fk1wyxwvyc9jc)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1159.5,64.9531 L1159.5,74.9531 L1169.5,74.9531 L1159.5,64.9531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="537.5" y="82.02">On the LoanApplication object,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="429" x="537.5" y="97.1528">the Address instance is only bound to the specific address property</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="5" x="537.5" y="112.2856">(</text><text fill="#4169E1" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="117" x="542.5" y="112.2856">BusinessAaddress</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="24" x="663.5" y="112.2856">and</text><text fill="#4169E1" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="91" x="691.5" y="112.2856">PostalAddress</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="5" x="782.5" y="112.2856">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="467" x="537.5" y="127.4185">If the same address is used on another loan application for some reason,</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="617" x="537.5" y="142.5513">(e.g. Bob the plumber and his son Rick the electrician uses the same house as business adress),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="537.5" y="157.6841">The Address</text><text fill="#4169E1" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="620.5" y="157.6841">internalId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="683.5" y="157.6841">will be different but the externalId/externalUrn can be the same.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="42" x="537.5" y="172.8169">"Can"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="539" x="583.5" y="172.8169">because their business are totally separate and may have a different state in NZBN.</text><path d="M441,352.4531 L441,392.7188 A0,0 0 0 0 441,392.7188 L620,392.7188 A0,0 0 0 0 620,392.7188 L620,376.5859 L659.5,430.7305 L620,368.5859 L620,362.4531 L610,352.4531 L441,352.4531 A0,0 0 0 0 441,352.4531 " fill="#FBFB77" filter="url(#fk1wyxwvyc9jc)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M610,352.4531 L610,362.4531 L620,362.4531 L610,352.4531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="447" y="369.52">If this is set to</text><text fill="#4169E1" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="540" y="369.52">true</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="447" y="384.6528">The</text><text fill="#4169E1" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="474" y="384.6528">PostalAddress</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10" x="569" y="384.6528">is</text><text fill="#4169E1" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="22" x="583" y="384.6528">null</text><path d="M578,662.9531 L578,686.6523 L521.5,742.8555 L578,694.6523 L578,718.3516 A0,0 0 0 0 578,718.3516 L841,718.3516 A0,0 0 0 0 841,718.3516 L841,672.9531 L831,662.9531 L578,662.9531 A0,0 0 0 0 578,662.9531 " fill="#FBFB77" filter="url(#fk1wyxwvyc9jc)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M831,662.9531 L831,672.9531 L841,672.9531 L831,662.9531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="584" y="680.02">Sample</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="584" y="695.1528">- From NZBN :</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145" x="681" y="695.1528">b9e7a1176d59634c</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="584" y="710.2856">- From AddressFinder :</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="91" x="733" y="710.2856">2-.3.19.1.jx1</text><path d="M578,728.3516 L578,767.1836 L527.5,755.6602 L578,775.1836 L578,814.0156 A0,0 0 0 0 578,814.0156 L766,814.0156 A0,0 0 0 0 766,814.0156 L766,738.3516 L756,728.3516 L578,728.3516 A0,0 0 0 0 578,728.3516 " fill="#FBFB77" filter="url(#fk1wyxwvyc9jc)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M756,728.3516 L756,738.3516 L766,738.3516 L756,728.3516 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="584" y="745.4185">Format</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="584" y="760.5513">-</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="58" x="593" y="760.5513">source:id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="584" y="775.6841">Sample</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="584" y="790.8169">-</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="158" x="593" y="790.8169">nzbn:uniqueIdentifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="584" y="805.9497">-</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="144" x="593" y="805.9497">addressFinder:pxid</text><path d="M6,551.9531 L6,925.1406 A0,0 0 0 0 6,925.1406 L365,925.1406 A0,0 0 0 0 365,925.1406 L365,742.5469 L404.5,768.4648 L365,734.5469 L365,561.9531 L355,551.9531 L6,551.9531 A0,0 0 0 0 6,551.9531 " fill="#FBFB77" filter="url(#fk1wyxwvyc9jc)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M355,551.9531 L355,561.9531 L365,561.9531 L355,551.9531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="12" y="569.02">contains a JSON string of the address structure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338" x="12" y="584.1528">from the external source (e.g. NZBN, AddressFinder)</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52" x="12" y="599.2856">- NZBN</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="614.4185"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="8" x="28" y="614.4185">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="629.5513"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="257" x="44" y="629.5513">"uniqueIdentifier": "b9e7a1176d59634c",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="644.6841"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="301" x="44" y="644.6841">"startDate": "2020-04-08T00:00:00.000+1200",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="659.8169"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="99" x="44" y="659.8169">"endDate": null,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="674.9497"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="86" x="44" y="674.9497">"careOf": null,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="690.0825"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="204" x="44" y="690.0825">"address1": "29 Bay View Road",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="705.2153"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="141" x="44" y="705.2153">"address2": "Atawhai",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="720.3481"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="135" x="44" y="720.3481">"address3": "Nelson",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="735.481"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="103" x="44" y="735.481">"address4": null,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="750.6138"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="125" x="44" y="750.6138">"postCode": "7010",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="765.7466"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="133" x="44" y="765.7466">"countryCode": "NZ",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="780.8794"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="157" x="44" y="780.8794">"addressType": "OFFICE",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="796.0122"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="44" y="796.0122">"pafId": null</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="811.145"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="8" x="28" y="811.145">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="16" y="826.2778"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118" x="12" y="841.4106">- AddressFinder</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="856.5435"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="8" x="28" y="856.5435">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="871.6763"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="303" x="28" y="871.6763">"a": "29 Bay View Road, Atawhai, Nelson, 7010",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="886.8091"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="153" x="28" y="886.8091">"pxid": "2-.3.1q.2.3Iuk$",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="901.9419"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="33" x="28" y="901.9419">"v": 1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="28" y="917.0747"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="8" x="28" y="917.0747">}</text><path d="M1205,26.9531 L1205,218.5469 L1600,218.5469 L1600,36.9531 L1590,26.9531 L1205,26.9531 " fill="#FBFB77" filter="url(#fk1wyxwvyc9jc)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1590,26.9531 L1590,36.9531 L1600,36.9531 L1590,26.9531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="1211" y="44.02">At the enterprise library(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="115" x="1367" y="44.02">Enterprise.Shared</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1482" y="44.02">),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="1211" y="59.1528">there will be an Address interpreter component</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1211" y="74.2856">that accepts the</text><text fill="#4169E1" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="75" x="1320" y="74.2856">externalUrn</text><text fill="#4169E1" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1395" y="74.2856">,</text><text fill="#4169E1" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="63" x="1403" y="74.2856">externalId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="1466" y="74.2856">, and</text><text fill="#4169E1" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="83" x="1502" y="74.2856">addressBody</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="1211" y="89.4185">where it transforms it to an</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="99" x="1388" y="89.4185">EDM Address</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1487" y="89.4185">.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="1215" y="104.5513"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="1211" y="119.6841">For example, when the LoanApplication API</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="1211" y="134.8169">receives a create LoanApplication request, it contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="1211" y="149.9497">the Address object as per the class definition.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="1211" y="165.0825">Then when the LoanApplication event is raised,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="1211" y="180.2153">the LoanApplication API will first use the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="361" x="1211" y="195.3481">Address interpreter to transform this to an EDM Address</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="1211" y="210.481">that consumers can use consistently for its purpose.</text><!--MD5=[b07424219eaa15038bd2111b9636a6f4]
link LoanApplication$$$LEFT to LoanApplication--><!--MD5=[4c1b6694c94778b47e2f48b2c8e324aa]
link Address to Address$$$RIGHT--><!--MD5=[c3cf86267a018089ea04f51204f2c4b2]
link Address$$$LEFT to Address--><!--MD5=[089b8a9d792b61ffc118eb4d14c1fcdf]
link LoanApplication to Address--><path codeLine="102" d="M655.3514,472.7312 C620.9164,495.413 587.5021,521.9065 560.5,551.9531 C523.1762,593.4852 498.7609,653.3834 485.1057,695.0925 " fill="none" id="LoanApplication-to-Address" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="483.4936,700.0864,490.0652,692.7506,485.0297,695.3282,482.452,690.2928,483.4936,700.0864" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="608.5" y="518.02">has</text><!--MD5=[d0f962ec30dd38f63da548ba1a45edfa]
link LoanApplication to PreferredCommunicationMethod--><path codeLine="103" d="M888.6335,475.0536 C917.4661,548.8489 955.6302,646.5276 977.0663,701.3919 " fill="none" id="LoanApplication-to-PreferredCommunicationMethod" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="978.9607,706.2407,979.4112,696.4022,977.1411,701.5836,971.9597,699.3135,978.9607,706.2407" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4fdc4bf3ed0d86bdfd2f6c97dc9a377b]
@startuml
title Address Model on Loan Application Domain

class LoanApplication <<<color:red>partial fields only, for illustration purposes>>
{
    FirstName : string
    LastName : string
    DateOfBirth : Date
    EmailAddress : string
    ContactNumber : string
    PreferredCommunicationMethod : PreferredCommunicationMethod
    BusinessName : string
    BusinessAddress : Address
    IsPostalAddressSameAsBusinessAddress : bool
    PostalAddress : Address
    IndustryType : string
}

class Address
{
    +externalId : string
    +externalUrn: string
    +addressBody: string
}

enum PreferredCommunicationMethod
{
    +email,
    +mobileSms
}

note top of LoanApplication
    On the LoanApplication object,
    the Address instance is only bound to the specific address property
    <i>(<color:RoyalBlue>BusinessAaddress</color> and <color:RoyalBlue>PostalAddress</color>)</i>
    If the same address is used on another loan application for some reason,
    <i>(e.g. Bob the plumber and his son Rick the electrician uses the same house as business adress),</i>
    The Address <color:RoyalBlue>internalId</color> will be different but the externalId/externalUrn can be the same.
    <b>"Can"</b> because their business are totally separate and may have a different state in NZBN.
end note

note left of LoanApplication::IsPostalAddressSameAsBusinessAddress
    If this is set to <color:RoyalBlue><b>true</b></color>
    The <color:RoyalBlue>PostalAddress</color> is <color:RoyalBlue><i>null</i></color>
end note

note right of Address::externalId
    Sample
    - From NZBN : <b>b9e7a1176d59634c</b>
    - From AddressFinder : <b>2-.3.19.1.jx1</b>
end note

note right of Address::externalUrn
    Format
    - <i>source:id</I>
    Sample
    - <b>nzbn:uniqueIdentifier</b>
    - <b>addressFinder:pxid</b>
end note

note left of Address::addressBody 
    contains a JSON string of the address structure
    from the external source (e.g. NZBN, AddressFinder)
    <b>- NZBN</b>
        <i>{</i>
        <i>    "uniqueIdentifier": "b9e7a1176d59634c",</i>
        <i>    "startDate": "2020-04-08T00:00:00.000+1200",</i>
        <i>    "endDate": null,</i>
        <i>    "careOf": null,</i>
        <i>    "address1": "29 Bay View Road",</i>
        <i>    "address2": "Atawhai",</i>
        <i>    "address3": "Nelson",</i>
        <i>    "address4": null,</i>
        <i>    "postCode": "7010",</i>
        <i>    "countryCode": "NZ",</i>
        <i>    "addressType": "OFFICE",</i>
        <i>    "pafId": null</i>
        <i>}</i>

    <b>- AddressFinder</b>
        <i>{</i>
        <i>"a": "29 Bay View Road, Atawhai, Nelson, 7010",</i>
        <i>"pxid": "2-.3.1q.2.3Iuk$",</i>
        <i>"v": 1</i>
        <i>}</i>
end note

note as N1
    At the enterprise library(<i>Enterprise.Shared</i>),
    there will be an Address interpreter component
    that accepts the <color:RoyalBlue><i>externalUrn</i>, <i>externalId</i></color>, and <color:RoyalBlue><i>addressBody</i></color>
    where it transforms it to an <b>EDM Address</b>.

    For example, when the LoanApplication API
    receives a create LoanApplication request, it contains
    the Address object as per the class definition.
    Then when the LoanApplication event is raised,
    the LoanApplication API will first use the
    Address interpreter to transform this to an EDM Address
    that consumers can use consistently for its purpose.
end note

LoanApplication - -> Address : has
LoanApplication - -> PreferredCommunicationMethod
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>